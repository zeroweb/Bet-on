<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>首页</title>
    <script src="static/js/media.js"></script>
    <link rel="stylesheet" href="static/css/common.css">
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="static/css/font.css">
    <script src="static/js/zepto.js"></script>
</head>
<body class="bg" onload="showTime()">
<header class="flex-wrp flex-between bg-black-5 ptb10 plr30 flex-align-center">
    <div class="flex-wrp flex-align-center">
        <img src="static/images/user.jpg" alt="" class="user-thumb-home">
        <div class="color1 size28 pl20">王大锤：120元</div>
    </div>
    <a href="play大转盘.html" class="color5 size24">立即充值</a>
</header>
<div class="flex-wrp box flex-between ptb20" style="display: none;">
    <div class="flex-wrp flex-cell flex-around">
        <div>
            <div class="circle bg-white-5 size28 small">小</div>
        </div>
        <div>
            <div class="circle bg-white-5 size28 odd">单</div>
        </div>
        <div>
            <div class="circle bg-white-5 size28 minus">-</div>
        </div>
    </div>
    <div class="chosen bg-yellow flex-wrp flex-cell text-center">
        <div class="border-y-5 flex-item border-box ptb20">
            <div class="size48 chosen1">大</div>
            <div class="size24 pt10">0~4为小，5~9为大</div>
        </div>
        <div class="border-y-5 flex-item border-box ptb20">
            <div class="size48 chosen2">双</div>
            <div class="size24 pt10">双：0,2,4,6,8 单：1,3,5,7,9</div>
        </div>
        <div class="flex-item border-box ptb20">
            <div class="size48 chosen3">0</div>
            <div class="size24 pt10">0~9的数字</div>
        </div>
    </div>
    <div class="flex-wrp flex-cell flex-around">
        <div>
            <div class="circle bg-white-5 flex-item size28 big">大</div>
        </div>
        <div>
            <div class="circle bg-white-5 flex-item size28 even">双</div>
        </div>
        <div>
            <div class="circle bg-white-5 flex-item size28 plus">+</div>
        </div>
    </div>
</div>
<div class="fixed-bottom flex-wrp flex-center" style="top: 3.2rem">
    <div style="width: 100%">
        <div class="plr30 ptb30 box flex-wrp flex-around">
            <div class="flex-wrp flex-cell flex-center">
                <a href="javascript:;" class="touzhu flex-wrp flex-center color1 sizeedit">大小</a>
                <div class="mt10 bg-white-5 plr20 line-h15 radius4"><span class="showvalue1 size24">0</span> 元</div>
            </div>
            <div class="flex-wrp flex-cell flex-center">
                <a href="javascript:;" class="touzhu flex-wrp flex-center color1 doubleedit">单双</a>
                <div class="mt10 bg-white-5 plr20 line-h15 radius4"><span class="showvalue2 size24">0</span> 元</div>
            </div>
            <div  class="flex-wrp flex-cell flex-center">
                <a href="javascript:;" class="touzhu flex-wrp flex-center color1 integeredit">数字</a>
                <div class="mt10 bg-white-5 plr20 line-h15 radius4"><span class="showvalue3 size24">0</span> 元</div>
            </div>
        </div>
        <div class="text-center color9 size24">当前为 <span class="color7 size24">201709060022</span> 期</div>
        <div class="text-center color9 size24 mt20">本期投注剩余时间：
            <span class="color10 size24 bg-body radius4 minutes plr10">00</span> 分
            <span class="color10 size24 bg-body radius4 second plr10">00</span> 秒
        </div>
        <div class="plr30 mt30 flex-wrp flex-center">
            <div class="bg-red-deep color7 plr30 ptb10 radius4" onclick="clickTime();"><span class="plr30 size28 line-h15 btn-touzhu">确认投注</span></div>
        </div>
        <div class="ptb30"></div>
        <div class="flex-wrp flex-center mt30">
            <div class="bg-pink-deep color1 plr10 ptb10 radius4">上一期开奖结果为：</div>
            <div class="bg-pink color1 text-center radius50 number-prev size28">5</div>
        </div>
        <div class="text-center mt30"><a href="wqjg.html" class="color2 bg-white-5 radius4 plr20 ptb10">往期开奖结果</a></div>
    </div>
</div>

<div style="height: 1rem;"></div>
<footer class="fixed-bottom flex-wrp bg-red-deep footer-nav">
    <a href="index.html" class="color7 size28 flex-item ptb20 text-center">首页</a>
    <a href="rule.html" class="color7 size28 flex-item ptb20 text-center">规则</a>
    <a href="recharge.html" class="color7 size28 flex-item ptb20 text-center">充值</a>
    <a href="user.html" class="color7 size28 flex-item ptb20 text-center">用户</a>
</footer>
<div class="alert-box flex-center flex-wrp bg-black-5" style="display: none;">
    <div class="closebg"></div>
    <div class="chosen bg-yellow ptb30 sizealert relative z99" style="display: none;">
        <div class="flex-wrp flex-cell flex-around flex-align-center">
            <div class="size48 chosen1">大</div>
            <div class="size24 pt10">0~4为小，5~9为大</div>
        </div>
        <div class="flex-wrp flex-center mt20">
            <div class="circle bg-white-5 size28 small">小</div>
            <div class="circle bg-white-5 size28 big">大</div>
        </div>
        <div class="flex-wrp flex-center mt30">
            <div><input type="number" class="number payvalue1" name="payvalue1" placeholder="投注金额" /><span class="color5 pl20">元</span></div>
            <a href="javascript:;" class="touzhu flex-wrp flex-center color1" id="size">投注</a>
        </div>
    </div>
    <div class="chosen bg-yellow ptb30 doublealert relative z99" style="display: none;">
        <div class="flex-wrp flex-cell flex-around flex-align-center">
            <div class="size48 chosen2">双</div>
            <div class="size24 pt10">双：0,2,4,6,8 单：1,3,5,7,9</div>
        </div>
        <div class="flex-wrp flex-center mt20">
            <div class="circle bg-white-5 size28 odd">单</div>
            <div class="circle bg-white-5 size28 even">双</div>
        </div>
        <div class="flex-wrp flex-center mt30">
            <div><input type="number" class="number payvalue2" placeholder="投注金额" /><span class="color5 pl20">元</span></div>
            <a href="javascript:;" class="touzhu flex-wrp flex-center color1" id="double">投注</a>
        </div>
    </div>
    <div class="chosen bg-yellow ptb30 integeralert relative z99" style="display: none;">
        <div class="flex-wrp flex-cell flex-around flex-align-center">
            <div class="size48 chosen3">0</div>
            <div class="size24 pt10">0~9的数字</div>
        </div>
        <div class="flex-wrp flex-center mt20">
            <div class="circle bg-white-5 size28 minus">-</div>
            <div class="circle bg-white-5 size28 plus">+</div>
        </div>
        <div class="flex-wrp flex-center mt30">
            <div><input type="number" class="number payvalue3" placeholder="投注金额" /><span class="color5 pl20">元</span></div>
            <a href="javascript:;" class="touzhu flex-wrp flex-center color1" id="integer">投注</a>
        </div>
    </div>
    <div class="chosen bg-yellow ptb30 recoralert relative z99">
        <div class="flex-wrp flex-cell flex-around flex-align-center">
            <div class="size28 chosen3">恭喜中奖</div>
            <div class="mt20"><span class="size28 color6 pr10">9</span>为幸运数字</div>
        </div>
        <div class="flex-wrp flex-center mt20">
            <div class="bg-black-5 plr20 radius4 ptb10 color1">赢得 240 元</div>
        </div>
        <div class="flex-wrp flex-center mt30">
            <a href="record.html" class="touzhu flex-wrp flex-center color1 plr10">查看详情</a>
        </div>
    </div>
</div>
<script>
    var add1='active bg-black-5'
    var add2='bg-white-5'
    var chosen3=parseInt($('.chosen3').text())
    var payvalue1=$(".payvalue1");
    var payvalue2=$(".payvalue2");
    var payvalue3=$(".payvalue3");
    var alertbox=$('.alert-box');
    var sizealert=$('.sizealert');
    var doublealert=$('.doublealert');
    var integeralert=$('.integeralert');
    var recoralert=$('.recoralert');
    var closebg=$('.closebg');
    function btn(btn1,btn2,chosen,text) {
        $(btn1).click(function () {
            $(this).removeClass(add2).addClass(add1)
            $(btn2).removeClass(add1).addClass(add2)
            if(chosen&&text){
                $(chosen).text(text)
            }
        })
    }
    btn('.big','.small','.chosen1','大');
    btn('.small','.big','.chosen1','小');
    btn('.odd','.even','.chosen2','单');
    btn('.even','.odd','.chosen2','双');
    btn('.minus','.plus');
    btn('.plus','.minus');
    sizealert.find('.circle').click(function () {
        $('.sizeedit').html($(this).text())
    });
    doublealert.find('.circle').click(function () {
        $('.doubleedit').html($(this).text())
    });
    payvalue1.on('input propertychange',function(){
        var result = $(this).val();
        $(this).val(result)
        $('.showvalue1').text(result);
    });
    payvalue2.on('input propertychange',function(){
        var result = $(this).val();
        $(this).val(result)
        $('.showvalue2').text(result);
    });
    payvalue3.on('input propertychange',function(){
        var result = $(this).val();
        $(this).val(result)
        $('.showvalue3').text(result);
    });
    $('.minus').click(function () {
        if(chosen3>0){
            chosen3--;
            $('.chosen3').text(chosen3);
            $('.integeredit').text(chosen3);
        }
    })
    $('.plus').click(function () {
        if(chosen3<9){
            chosen3++;
            $('.chosen3').text(chosen3);
            $('.integeredit').text(chosen3);
        }
    })
    function alertshow(box1,box2,box3,box4,box5) {
        $(box1).show();
        $(box2).show();
        $(box3).hide();
        $(box4).hide();
        $(box5).hide();
        $(closebg).click(function () {
            $(box1).hide();
        })
    }
    $('.sizeedit').click(function () {
        alertshow(alertbox,sizealert,doublealert,integeralert,recoralert);
    })
    $('.doubleedit').click(function () {
        alertshow(alertbox,doublealert,sizealert,integeralert,recoralert);
    })
    $('.integeredit').click(function () {
        alertshow(alertbox,integeralert,sizealert,doublealert,recoralert);
    })
    $('#size').click(function () {
        alertbox.hide();
        $('.sizealert').hide()
    })
    $('#double').click(function () {
        alertbox.hide();
        $('.doublealert').hide()
    })
    $('#integer').click(function () {
        alertbox.hide();
        $('.integeralert').hide()
    })
    function showTime() {
        var now = new Date();
        var minutes = now.getMinutes();
        var second = now.getSeconds();
        $('.minutes').text( "0" + (4 - minutes % 5));
        if(second>51){
            $('.second').text("0" + (60 - second));
        }else if(second>=1){
            $('.second').text(60 - second);
        }else{
            $('.second').text("00");
        };
        setTimeout('showTime()',1000);
    }
    function clickTime() {
        var cliDate = new Date();
        var climinutes = cliDate.getMinutes();
        var clisecond = cliDate.getSeconds();
        var time=(4 - climinutes % 5)*60+60-clisecond;
        setTime=setInterval(function(){
            if(time<=59){
                $(".btn-touzhu").text('等待开奖').parent().addClass('bg-999 color2').removeClass('bg-red-deep color7');
            }
            if(time<=0){
                clearInterval(setTime);
                alertshow(alertbox,recoralert,sizealert,doublealert,integeralert);
                $(".btn-touzhu").text('确定投注').parent().addClass('bg-red-deep color7').removeClass('bg-999 color2');
                return;
            }
            time--;
        },1000);
    }
</script>
</body>
</html>